function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function o(){return Object.create(null)}function i(t){t.forEach(r)}function s(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let u;function c(t,e){return u||(u=document.createElement("a")),u.href=e,t===u.href}function l(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function f(t,e,n,r){if(t){const o=h(t,e,n,r);return t[0](o)}}function h(t,e,r,o){return t[1]&&o?n(r.ctx.slice(),t[1](o(e))):r.ctx}function p(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}function d(t,e,n,r,o,i){if(o){const s=h(e,n,r,i);t.p(s,o)}}function y(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function v(t,e,n){return t.set(n),e}const g="undefined"!=typeof window;let m=g?()=>window.performance.now():()=>Date.now(),b=g?t=>requestAnimationFrame(t):t;const w=new Set;function _(t){w.forEach((e=>{e.c(t)||(w.delete(e),e.f())})),0!==w.size&&b(_)}let O=!1;function E(t,e,n,r){for(;t<e;){const o=t+(e-t>>1);n(o)<=r?t=o+1:e=o}return t}function x(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e.host?e:document}function S(t){const e=T("style");return function(t,e){!function(t,e){t.appendChild(e)}(t.head||t,e)}(x(t),e),e}function j(t,e){if(O){for(!function(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if("HEAD"===t.nodeName){const t=[];for(let n=0;n<e.length;n++){const r=e[n];void 0!==r.claim_order&&t.push(r)}e=t}const n=new Int32Array(e.length+1),r=new Int32Array(e.length);n[0]=-1;let o=0;for(let u=0;u<e.length;u++){const t=e[u].claim_order,i=(o>0&&e[n[o]].claim_order<=t?o+1:E(1,o,(t=>e[n[t]].claim_order),t))-1;r[u]=n[i]+1;const s=i+1;n[s]=u,o=Math.max(s,o)}const i=[],s=[];let a=e.length-1;for(let u=n[o]+1;0!=u;u=r[u-1]){for(i.push(e[u-1]);a>=u;a--)s.push(e[a]);a--}for(;a>=0;a--)s.push(e[a]);i.reverse(),s.sort(((t,e)=>t.claim_order-e.claim_order));for(let u=0,c=0;u<s.length;u++){for(;c<i.length&&s[u].claim_order>=i[c].claim_order;)c++;const e=c<i.length?i[c]:null;t.insertBefore(s[u],e)}}(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild);null!==t.actual_end_child&&void 0===t.actual_end_child.claim_order;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?void 0===e.claim_order&&e.parentNode===t||t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else e.parentNode===t&&null===e.nextSibling||t.appendChild(e)}function P(t,e,n){O&&!n?j(t,e):e.parentNode===t&&e.nextSibling==n||t.insertBefore(e,n||null)}function I(t){t.parentNode.removeChild(t)}function k(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function T(t){return document.createElement(t)}function $(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function A(t){return document.createTextNode(t)}function C(){return A(" ")}function D(){return A("")}function M(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function q(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function R(t){return Array.from(t.childNodes)}function N(t,e,n,r,o=!1){!function(t){void 0===t.claim_info&&(t.claim_info={last_index:0,total_claimed:0})}(t);const i=(()=>{for(let r=t.claim_info.last_index;r<t.length;r++){const i=t[r];if(e(i)){const e=n(i);return void 0===e?t.splice(r,1):t[r]=e,o||(t.claim_info.last_index=r),i}}for(let r=t.claim_info.last_index-1;r>=0;r--){const i=t[r];if(e(i)){const e=n(i);return void 0===e?t.splice(r,1):t[r]=e,o?void 0===e&&t.claim_info.last_index--:t.claim_info.last_index=r,i}}return r()})();return i.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,i}function z(t,e,n,r){return N(t,(t=>t.nodeName===e),(t=>{const e=[];for(let r=0;r<t.attributes.length;r++){const o=t.attributes[r];n[o.name]||e.push(o.name)}e.forEach((e=>t.removeAttribute(e)))}),(()=>r?$(e):T(e)))}function H(t,e){return N(t,(t=>3===t.nodeType),(t=>{const n=""+e;if(t.data.startsWith(n)){if(t.data.length!==n.length)return t.splitText(n.length)}else t.data=n}),(()=>A(e)),!0)}function U(t){return H(t," ")}function L(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function B(t,e=document.body){return Array.from(e.querySelectorAll(t))}const W=new Set;let F,V=0;function Y(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-r.length;o&&(t.style.animation=r.join(", "),V-=o,V||b((()=>{V||(W.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),W.clear())})))}function X(t){F=t}function J(){if(!F)throw new Error("Function called outside component initialization");return F}function G(t){J().$$.on_mount.push(t)}function Z(t){J().$$.after_update.push(t)}function K(t){J().$$.on_destroy.push(t)}function Q(t,e){J().$$.context.set(t,e)}const tt=[],et=[],nt=[],rt=[],ot=Promise.resolve();let it=!1;function st(t){nt.push(t)}let at=!1;const ut=new Set;function ct(){if(!at){at=!0;do{for(let t=0;t<tt.length;t+=1){const e=tt[t];X(e),lt(e.$$)}for(X(null),tt.length=0;et.length;)et.pop()();for(let t=0;t<nt.length;t+=1){const e=nt[t];ut.has(e)||(ut.add(e),e())}nt.length=0}while(tt.length);for(;rt.length;)rt.pop()();it=!1,at=!1,ut.clear()}}function lt(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(st)}}let ft;function ht(t,e,n){t.dispatchEvent(function(t,e,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}(`${e?"intro":"outro"}${n}`))}const pt=new Set;let dt;function yt(){dt={r:0,c:[],p:dt}}function vt(){dt.r||i(dt.c),dt=dt.p}function gt(t,e){t&&t.i&&(pt.delete(t),t.i(e))}function mt(t,e,n,r){if(t&&t.o){if(pt.has(t))return;pt.add(t),dt.c.push((()=>{pt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const bt={duration:0};function wt(n,r,o){let a,u=r(n,o),c=!0;const l=dt;function f(){const{delay:r=0,duration:o=300,easing:s=e,tick:f=t,css:h}=u||bt;h&&(a=function(t,e,n,r,o,i,s,a=0){const u=16.666/r;let c="{\n";for(let v=0;v<=1;v+=u){const t=e+(n-e)*i(v);c+=100*v+`%{${s(t,1-t)}}\n`}const l=c+`100% {${s(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(l)}_${a}`,h=x(t);W.add(h);const p=h.__svelte_stylesheet||(h.__svelte_stylesheet=S(t).sheet),d=h.__svelte_rules||(h.__svelte_rules={});d[f]||(d[f]=!0,p.insertRule(`@keyframes ${f} ${l}`,p.cssRules.length));const y=t.style.animation||"";return t.style.animation=`${y?`${y}, `:""}${f} ${r}ms linear ${o}ms 1 both`,V+=1,f}(n,1,0,o,r,s,h));const p=m()+r,d=p+o;st((()=>ht(n,!1,"start"))),function(t){let e;0===w.size&&b(_),new Promise((n=>{w.add(e={c:t,f:n})}))}((t=>{if(c){if(t>=d)return f(0,1),ht(n,!1,"end"),--l.r||i(l.c),!1;if(t>=p){const e=s((t-p)/o);f(1-e,e)}}return c}))}return l.r+=1,s(u)?(ft||(ft=Promise.resolve(),ft.then((()=>{ft=null}))),ft).then((()=>{u=u(),f()})):f(),{end(t){t&&u.tick&&u.tick(1,0),c&&(a&&Y(n,a),c=!1)}}}function _t(t,e){const n={},r={},o={$$scope:1};let i=t.length;for(;i--;){const s=t[i],a=e[i];if(a){for(const t in s)t in a||(r[t]=1);for(const t in a)o[t]||(n[t]=a[t],o[t]=1);t[i]=a}else for(const t in s)o[t]=1}for(const s in r)s in n||(n[s]=void 0);return n}function Ot(t){return"object"==typeof t&&null!==t?t:{}}function Et(t){t&&t.c()}function xt(t,e){t&&t.l(e)}function St(t,e,n,o){const{fragment:a,on_mount:u,on_destroy:c,after_update:l}=t.$$;a&&a.m(e,n),o||st((()=>{const e=u.map(r).filter(s);c?c.push(...e):i(e),t.$$.on_mount=[]})),l.forEach(st)}function jt(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Pt(t,e){-1===t.$$.dirty[0]&&(tt.push(t),it||(it=!0,ot.then(ct)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function It(e,n,r,s,a,u,c,l=[-1]){const f=F;X(e);const h=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:a,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:n.context||[]),callbacks:o(),dirty:l,skip_bound:!1,root:n.target||f.$$.root};c&&c(h.root);let p=!1;if(h.ctx=r?r(e,n.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return h.ctx&&a(h.ctx[t],h.ctx[t]=o)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](o),p&&Pt(e,t)),n})):[],h.update(),p=!0,i(h.before_update),h.fragment=!!s&&s(h.ctx),n.target){if(n.hydrate){O=!0;const t=R(n.target);h.fragment&&h.fragment.l(t),t.forEach(I)}else h.fragment&&h.fragment.c();n.intro&&gt(e.$$.fragment),St(e,n.target,n.anchor,n.customElement),O=!1,ct()}X(f)}class kt{$destroy(){jt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Tt=[];function $t(e,n=t){let r;const o=new Set;function i(t){if(a(e,t)&&(e=t,r)){const t=!Tt.length;for(const n of o)n[1](),Tt.push(n,e);if(t){for(let t=0;t<Tt.length;t+=2)Tt[t][0](Tt[t+1]);Tt.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(s,a=t){const u=[s,a];return o.add(u),1===o.size&&(r=n(i)||t),s(e),()=>{o.delete(u),0===o.size&&(r(),r=null)}}}}function At(t,{delay:n=0,duration:r=400,easing:o=e}={}){const i=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:o,css:t=>"opacity: "+t*i}}var Ct="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Dt(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})})),e}
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Mt=Object.getOwnPropertySymbols,qt=Object.prototype.hasOwnProperty,Rt=Object.prototype.propertyIsEnumerable;function Nt(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var zt=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(o){return!1}}()?Object.assign:function(t,e){for(var n,r,o=Nt(t),i=1;i<arguments.length;i++){for(var s in n=Object(arguments[i]))qt.call(n,s)&&(o[s]=n[s]);if(Mt){r=Mt(n);for(var a=0;a<r.length;a++)Rt.call(n,r[a])&&(o[r[a]]=n[r[a]])}}return o},Ht={},Ut={},Lt={},Bt={};Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.isFunction=function(t){return"function"==typeof t};var Wt={},Ft={};Object.defineProperty(Ft,"__esModule",{value:!0});var Vt=!1;Ft.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else Vt&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Vt=t},get useDeprecatedSynchronousErrorHandling(){return Vt}};var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.hostReportError=function(t){setTimeout((function(){throw t}),0)},Object.defineProperty(Wt,"__esModule",{value:!0});var Xt=Ft,Jt=Yt;Wt.empty={closed:!0,next:function(t){},error:function(t){if(Xt.config.useDeprecatedSynchronousErrorHandling)throw t;Jt.hostReportError(t)},complete:function(){}};var Gt={},Zt={};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length};var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.isObject=function(t){return null!==t&&"object"==typeof t};var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});var te=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}();Qt.UnsubscriptionError=te,Object.defineProperty(Gt,"__esModule",{value:!0});var ee=Zt,ne=Kt,re=Bt,oe=Qt,ie=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this,r=n._parentOrParents,o=n._ctorUnsubscribe,i=n._unsubscribe,s=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof t)r.remove(this);else if(null!==r)for(var a=0;a<r.length;++a){r[a].remove(this)}if(re.isFunction(i)){o&&(this._unsubscribe=void 0);try{i.call(this)}catch(l){e=l instanceof oe.UnsubscriptionError?se(l.errors):[l]}}if(ee.isArray(s)){a=-1;for(var u=s.length;++a<u;){var c=s[a];if(ne.isObject(c))try{c.unsubscribe()}catch(l){e=e||[],l instanceof oe.UnsubscriptionError?e=e.concat(se(l.errors)):e.push(l)}}}if(e)throw new oe.UnsubscriptionError(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof t){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function se(t){return t.reduce((function(t,e){return t.concat(e instanceof oe.UnsubscriptionError?e.errors:e)}),[])}Gt.Subscription=ie;var ae,ue={};ae=ue,Object.defineProperty(ae,"__esModule",{value:!0}),ae.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),ae.$$rxSubscriber=ae.rxSubscriber;var ce,le=Ct&&Ct.__extends||(ce=function(t,e){return(ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ce(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(Lt,"__esModule",{value:!0});var fe=Bt,he=Wt,pe=ue,de=Ft,ye=Yt,ve=function(t){function e(n,r,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=he.empty;break;case 1:if(!n){i.destination=he.empty;break}if("object"==typeof n){n instanceof e?(i.syncErrorThrowable=n.syncErrorThrowable,i.destination=n,n.add(i)):(i.syncErrorThrowable=!0,i.destination=new ge(i,n));break}default:i.syncErrorThrowable=!0,i.destination=new ge(i,n,r,o)}return i}return le(e,t),e.prototype[pe.rxSubscriber]=function(){return this},e.create=function(t,n,r){var o=new e(t,n,r);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(Gt.Subscription);Lt.Subscriber=ve;var ge=function(t){function e(e,n,r,o){var i,s=t.call(this)||this;s._parentSubscriber=e;var a=s;return fe.isFunction(n)?i=n:n&&(i=n.next,r=n.error,o=n.complete,n!==he.empty&&(a=Object.create(n),fe.isFunction(a.unsubscribe)&&s.add(a.unsubscribe.bind(a)),a.unsubscribe=s.unsubscribe.bind(s))),s._context=a,s._next=i,s._error=r,s._complete=o,s}return le(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;de.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=de.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):ye.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;ye.hostReportError(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};de.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),de.config.useDeprecatedSynchronousErrorHandling)throw n;ye.hostReportError(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!de.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return de.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(ye.hostReportError(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(ve);Lt.SafeSubscriber=ge;var me=Ct&&Ct.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Ut,"__esModule",{value:!0});var be=Lt;Ut.filter=function(t,e){return function(n){return n.lift(new we(t,e))}};var we=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new _e(t,this.predicate,this.thisArg))},t}(),_e=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return me(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(be.Subscriber);Ht.filter=Ut.filter;var Oe={},Ee={},xe=Ct&&Ct.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Ee,"__esModule",{value:!0});var Se=Lt;Ee.map=function(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new je(t,e))}};var je=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Pe(t,this.project,this.thisArg))},t}();Ee.MapOperator=je;var Pe=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return xe(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(Se.Subscriber);Oe.map=Ee.map;var Ie=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)},ke=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable;function $e(t){if(null==t)throw new TypeError("Sources cannot be null or undefined");return Object(t)}function Ae(t,e,n){var r=e[n];if(null!=r){if(ke.call(t,n)&&(void 0===t[n]||null===t[n]))throw new TypeError("Cannot convert undefined or null to object ("+n+")");ke.call(t,n)&&Ie(r)?t[n]=Ce(Object(t[n]),e[n]):t[n]=r}}function Ce(t,e){if(t===e)return t;for(var n in e=Object(e))ke.call(e,n)&&Ae(t,e,n);if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(e),o=0;o<r.length;o++)Te.call(e,r[o])&&Ae(t,e,r[o]);return t}var De=function(t){if("string"==typeof t||Array.isArray(t))return{id:t};if(t&&t.query)return{query:t.query};var e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join("\n");throw new Error("Unknown selection - must be one of:\n\n".concat(e))},Me={};function qe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=["image","file"],r=["before","after","replace"];t.dataset=function(t){if(!/^(~[a-z0-9]{1}[-\w]{0,25}|[a-z0-9]{1}[-\w]{0,19})$/.test(t))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 20 characters")},t.projectId=function(t){if(!/^[-a-z0-9]+$/i.test(t))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},t.validateAssetType=function(t){if(-1===n.indexOf(t))throw new Error("Invalid asset type: ".concat(t,". Must be one of ").concat(n.join(", ")))},t.validateObject=function(t,n){if(null===n||"object"!==e(n)||Array.isArray(n))throw new Error("".concat(t,"() takes an object of properties"))},t.requireDocumentId=function(e,n){if(!n._id)throw new Error("".concat(e,'() requires that the document contains an ID ("_id" property)'));t.validateDocumentId(e,n._id)},t.validateDocumentId=function(t,e){if("string"!=typeof e||!/^[a-z0-9_.-]+$/i.test(e))throw new Error("".concat(t,'(): "').concat(e,'" is not a valid document ID'))},t.validateInsert=function(t,e,n){var o="insert(at, selector, items)";if(-1===r.indexOf(t)){var i=r.map((function(t){return'"'.concat(t,'"')})).join(", ");throw new Error("".concat(o,' takes an "at"-argument which is one of: ').concat(i))}if("string"!=typeof e)throw new Error("".concat(o,' takes a "selector"-argument which must be a string'));if(!Array.isArray(n))throw new Error("".concat(o,' takes an "items"-argument which must be an array'))},t.hasDataset=function(t){if(!t.gradientMode&&!t.dataset)throw new Error("`dataset` must be provided to perform queries");return t.dataset||""},t.requestTag=function(t){if("string"!=typeof t||!/^[a-z0-9._-]{1,75}$/i.test(t))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return t}}(Me);var Re=function(t){t=$e(t);for(var e=1;e<arguments.length;e++)Ce(t,arguments[e]);return t},Ne=zt,ze=De,He=Me.validateObject,Ue=Me.validateInsert;function Le(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.selection=t,this.operations=Ne({},e),this.client=n}Ne(Le.prototype,{clone:function(){return new Le(this.selection,Ne({},this.operations),this.client)},merge:function(t){He("merge",t);var e=(new Error).stack.toString().split("\n").filter((function(t){return t.trim()})).slice(2);return console.warn('The "merge" patch has been deprecated and will be removed in the future\n'.concat(e.join("\n"))),this._assign("merge",Re(this.operations.merge||{},t))},set:function(t){return this._assign("set",t)},diffMatchPatch:function(t){return He("diffMatchPatch",t),this._assign("diffMatchPatch",t)},unset:function(t){if(!Array.isArray(t))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Ne({},this.operations,{unset:t}),this},setIfMissing:function(t){return this._assign("setIfMissing",t)},replace:function(t){return He("replace",t),this._set("set",{$:t})},inc:function(t){return this._assign("inc",t)},dec:function(t){return this._assign("dec",t)},insert:function(t,e,n){var r;return Ue(t,e,n),this._assign("insert",(qe(r={},t,e),qe(r,"items",n),r))},append:function(t,e){return this.insert("after","".concat(t,"[-1]"),e)},prepend:function(t,e){return this.insert("before","".concat(t,"[0]"),e)},splice:function(t,e,n,r){var o=e<0?e-1:e,i=void 0===n||-1===n?-1:Math.max(0,e+n),s=o<0&&i>=0?"":i,a="".concat(t,"[").concat(o,":").concat(s,"]");return this.insert("replace",a,r||[])},ifRevisionId:function(t){return this.operations.ifRevisionID=t,this},serialize:function(){return Ne(ze(this.selection),this.operations)},toJSON:function(){return this.serialize()},commit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.client)throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");var e="string"==typeof this.selection,n=Ne({returnFirst:e,returnDocuments:!0},t);return this.client.mutate({patch:this.serialize()},n)},reset:function(){return this.operations={},this},_set:function(t,e){return this._assign(t,e,!1)},_assign:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return He(t,e),this.operations=Ne({},this.operations,qe({},t,Ne({},n&&this.operations[t]||{},e))),this}});var Be=Le;function We(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fe=zt,Ve=Me,Ye=Be,Xe={returnDocuments:!1};function Je(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;this.trxId=n,this.operations=t,this.client=e}Fe(Je.prototype,{clone:function(){return new Je(this.operations.slice(0),this.client,this.trxId)},create:function(t){return Ve.validateObject("create",t),this._add({create:t})},createIfNotExists:function(t){var e="createIfNotExists";return Ve.validateObject(e,t),Ve.requireDocumentId(e,t),this._add(We({},e,t))},createOrReplace:function(t){var e="createOrReplace";return Ve.validateObject(e,t),Ve.requireDocumentId(e,t),this._add(We({},e,t))},delete:function(t){return Ve.validateDocumentId("delete",t),this._add({delete:{id:t}})},patch:function(t,e){var n="function"==typeof e;if(t instanceof Ye)return this._add({patch:t.serialize()});if(n){var r=e(new Ye(t,{},this.client));if(!(r instanceof Ye))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:r.serialize()})}return this._add({patch:Fe({id:t},e)})},transactionId:function(t){return t?(this.trxId=t,this):this.trxId},serialize:function(){return this.operations.slice()},toJSON:function(){return this.serialize()},commit:function(t){if(!this.client)throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.client.mutate(this.serialize(),Fe({transactionId:this.trxId},Xe,t||{}))},reset:function(){return this.operations=[],this},_add:function(t){return this.operations.push(t),this}});var Ge=Je,Ze=["tag"];function Ke(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var Qe=encodeURIComponent,tn=function(t){var e=t.query,n=t.params,r=void 0===n?{}:n,o=t.options,i=void 0===o?{}:o,s=i.tag,a=Ke(i,Ze),u="query=".concat(Qe(e)),c=s?"?tag=".concat(Qe(s),"&").concat(u):"?".concat(u),l=Object.keys(r).reduce((function(t,e){return"".concat(t,"&").concat(Qe("$".concat(e)),"=").concat(Qe(JSON.stringify(r[e])))}),c);return Object.keys(a).reduce((function(t,e){return i[e]?"".concat(t,"&").concat(Qe(e),"=").concat(Qe(i[e])):t}),l)},en={},nn={};Object.defineProperty(nn,"__esModule",{value:!0});var rn=Lt;nn.canReportError=function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof rn.Subscriber?r:null}return!0};var on={};Object.defineProperty(on,"__esModule",{value:!0});var sn=Lt,an=ue,un=Wt;on.toSubscriber=function(t,e,n){if(t){if(t instanceof sn.Subscriber)return t;if(t[an.rxSubscriber])return t[an.rxSubscriber]()}return t||e||n?new sn.Subscriber(t,e,n):new sn.Subscriber(un.empty)};var cn={};Object.defineProperty(cn,"__esModule",{value:!0}),cn.observable="function"==typeof Symbol&&Symbol.observable||"@@observable";var ln={},fn={};Object.defineProperty(fn,"__esModule",{value:!0}),fn.identity=function(t){return t},Object.defineProperty(ln,"__esModule",{value:!0});var hn=fn;function pn(t){return 0===t.length?hn.identity:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}ln.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return pn(t)},ln.pipeFromArray=pn,Object.defineProperty(en,"__esModule",{value:!0});var dn=nn,yn=on,vn=cn,gn=ln,mn=Ft,bn=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=yn.toSubscriber(t,e,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||mn.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),mn.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){mn.config.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),dn.canReportError(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=wn(e))((function(e,r){var o;o=n.subscribe((function(e){try{t(e)}catch(n){r(n),o&&o.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[vn.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:gn.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=wn(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function wn(t){if(t||(t=mn.config.Promise||Promise),!t)throw new Error("no Promise impl found");return t}en.Observable=bn;var _n={},On={},En={},xn=Ct&&Ct.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(En,"__esModule",{value:!0});var Sn=Lt;En.scan=function(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new jn(t,e,n))}};var jn=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new Pn(t,this.accumulator,this.seed,this.hasSeed))},t}(),Pn=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.accumulator=n,i._seed=r,i.hasSeed=o,i.index=0,i}return xn(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)},e}(Sn.Subscriber),In={},kn={};Object.defineProperty(kn,"__esModule",{value:!0});var Tn=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();kn.ArgumentOutOfRangeError=Tn;var $n={};!function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=en;t.EMPTY=new e.Observable((function(t){return t.complete()})),t.empty=function(n){return n?function(t){return new e.Observable((function(e){return t.schedule((function(){return e.complete()}))}))}(n):t.EMPTY}}($n);var An=Ct&&Ct.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(In,"__esModule",{value:!0});var Cn=Lt,Dn=kn,Mn=$n;In.takeLast=function(t){return function(e){return 0===t?Mn.empty():e.lift(new qn(t))}};var qn=function(){function t(t){if(this.total=t,this.total<0)throw new Dn.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new Rn(t,this.total))},t}(),Rn=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return An(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,o=0;o<n;o++){var i=e++%n;t.next(r[i])}t.complete()},e}(Cn.Subscriber),Nn={},zn=Ct&&Ct.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Nn,"__esModule",{value:!0});var Hn=Lt;Nn.defaultIfEmpty=function(t){return void 0===t&&(t=null),function(e){return e.lift(new Un(t))}};var Un=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new Ln(t,this.defaultValue))},t}(),Ln=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return zn(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(Hn.Subscriber);Object.defineProperty(On,"__esModule",{value:!0});var Bn=En,Wn=In,Fn=Nn,Vn=ln;On.reduce=function(t,e){return arguments.length>=2?function(n){return Vn.pipe(Bn.scan(t,e),Wn.takeLast(1),Fn.defaultIfEmpty(e))(n)}:function(e){return Vn.pipe(Bn.scan((function(e,n,r){return t(e,n,r+1)})),Wn.takeLast(1))(e)}},_n.reduce=On.reduce;var Yn=en.Observable,Xn=zt,Jn=Oe.map,Gn=Ht.filter,Zn=_n.reduce;function Kn(){Yn.apply(this,arguments)}function Qn(t,e){var n=!1;return function(){return n||(n=!0,console.warn(new Error("Calling observable.".concat(t,"(...) is deprecated. Please use observable.pipe(").concat(t,"(...)) instead")))),this.pipe(e.apply(this,arguments))}}Kn.prototype=Object.create(Xn(Object.create(null),Yn.prototype)),Object.defineProperty(Kn.prototype,"constructor",{value:Kn,enumerable:!1,writable:!0,configurable:!0}),Kn.prototype.lift=function(t){var e=new Kn;return e.source=this,e.operator=t,e},Kn.prototype.map=Qn("map",Jn),Kn.prototype.filter=Qn("filter",Gn),Kn.prototype.reduce=Qn("filter",Zn);var tr,er=Kn,nr={exports:{}};tr=nr,function(t,e){if(tr.exports)tr.exports=e();else{if(Ct.EventSource&&!Ct._eventSourceImportPrefix)return;t[(t._eventSourceImportPrefix||"")+"EventSource"]=e()}}("undefined"==typeof self?Ct:self,(function(){var t=function(t,e){if(!t||"string"!=typeof t)throw new SyntaxError("Not enough arguments");this.URL=t,this.setOptions(e);var n=this;setTimeout((function(){n.poll()}),0)};if(t.prototype={CONNECTING:0,OPEN:1,CLOSED:2,defaultOptions:{loggingEnabled:!1,loggingPrefix:"eventsource",interval:500,bufferSizeLimit:262144,silentTimeout:3e5,getArgs:{evs_buffer_size_limit:262144},xhrHeaders:{Accept:"text/event-stream","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}},setOptions:function(t){var e,n=this.defaultOptions;for(e in n)n.hasOwnProperty(e)&&(this[e]=n[e]);for(e in t)e in n&&t.hasOwnProperty(e)&&(this[e]=t[e]);this.getArgs&&this.bufferSizeLimit&&(this.getArgs.evs_buffer_size_limit=this.bufferSizeLimit),"undefined"!=typeof console&&void 0!==console.log||(this.loggingEnabled=!1)},log:function(t){this.loggingEnabled&&console.log("["+this.loggingPrefix+"]:"+t)},poll:function(){try{if(this.readyState==this.CLOSED)return;this.cleanup(),this.readyState=this.CONNECTING,this.cursor=0,this.cache="",this._xhr=new this.XHR(this),this.resetNoActivityTimer()}catch(t){this.log("There were errors inside the pool try-catch"),this.dispatchEvent("error",{type:"error",data:t.message})}},pollAgain:function(t){var e=this;e.readyState=e.CONNECTING,e.dispatchEvent("error",{type:"error",data:"Reconnecting "}),this._pollTimer=setTimeout((function(){e.poll()}),t||0)},cleanup:function(){this.log("evs cleaning up"),this._pollTimer&&(clearInterval(this._pollTimer),this._pollTimer=null),this._noActivityTimer&&(clearInterval(this._noActivityTimer),this._noActivityTimer=null),this._xhr&&(this._xhr.abort(),this._xhr=null)},resetNoActivityTimer:function(){if(this.silentTimeout){this._noActivityTimer&&clearInterval(this._noActivityTimer);var t=this;this._noActivityTimer=setTimeout((function(){t.log("Timeout! silentTImeout:"+t.silentTimeout),t.pollAgain()}),this.silentTimeout)}},close:function(){this.readyState=this.CLOSED,this.log("Closing connection. readyState: "+this.readyState),this.cleanup()},_onxhrdata:function(){var t=this._xhr;if(t.isReady()&&!t.hasError()){this.resetNoActivityTimer(),this.readyState==this.CONNECTING&&(this.readyState=this.OPEN,this.dispatchEvent("open",{type:"open"}));var e=t.getBuffer();e.length>this.bufferSizeLimit&&(this.log("buffer.length > this.bufferSizeLimit"),this.pollAgain()),0==this.cursor&&e.length>0&&"\ufeff"==e.substring(0,1)&&(this.cursor=1);var n=this.lastMessageIndex(e);if(n[0]>=this.cursor){var r=n[1],o=e.substring(this.cursor,r);this.parseStream(o),this.cursor=r}t.isDone()&&(this.log("request.isDone(). reopening the connection"),this.pollAgain(this.interval))}else this.readyState!==this.CLOSED&&(this.log("this.readyState !== this.CLOSED"),this.pollAgain(this.interval))},parseStream:function(t){var e,r,o,i,s,a,u=(t=this.cache+this.normalizeToLF(t)).split("\n\n");for(e=0;e<u.length-1;e++){o="message",i=[];var c=u[e].split("\n");for(r=0;r<c.length;r++)0==(s=this.trimWhiteSpace(c[r])).indexOf("event")?o=s.replace(/event:?\s*/,""):0==s.indexOf("retry")?(a=parseInt(s.replace(/retry:?\s*/,""),10),isNaN(a)||(this.interval=a)):0==s.indexOf("data")?i.push(s.replace(/data:?\s*/,"")):0==s.indexOf("id:")?this.lastEventId=s.replace(/id:?\s*/,""):0==s.indexOf("id")&&(this.lastEventId=null);if(i.length&&this.readyState!=this.CLOSED){var l=new n(o,i.join("\n"),"undefined"!=typeof window&&void 0!==window.location?window.location.origin:null,this.lastEventId);this.dispatchEvent(o,l)}}this.cache=u[u.length-1]},dispatchEvent:function(t,e){var n=this["_"+t+"Handlers"];if(n)for(var r=0;r<n.length;r++)n[r].call(this,e);this["on"+t]&&this["on"+t].call(this,e)},addEventListener:function(t,e){this["_"+t+"Handlers"]||(this["_"+t+"Handlers"]=[]),this["_"+t+"Handlers"].push(e)},removeEventListener:function(t,e){var n=this["_"+t+"Handlers"];if(n)for(var r=n.length-1;r>=0;--r)if(n[r]===e){n.splice(r,1);break}},_pollTimer:null,_noactivityTimer:null,_xhr:null,lastEventId:null,cache:"",cursor:0,onerror:null,onmessage:null,onopen:null,readyState:0,urlWithParams:function(t,e){var n=[];if(e){var r,o,i=encodeURIComponent;for(r in e)e.hasOwnProperty(r)&&(o=i(r)+"="+i(e[r]),n.push(o))}return n.length>0?-1==t.indexOf("?")?t+"?"+n.join("&"):t+"&"+n.join("&"):t},lastMessageIndex:function(t){var e=t.lastIndexOf("\n\n"),n=t.lastIndexOf("\r\r"),r=t.lastIndexOf("\r\n\r\n");return r>Math.max(e,n)?[r,r+4]:[Math.max(e,n),Math.max(e,n)+2]},trimWhiteSpace:function(t){return t.replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,"")},normalizeToLF:function(t){return t.replace(/\r\n|\r/g,"\n")}},Boolean("undefined"!=typeof window&&window.XDomainRequest&&window.XMLHttpRequest&&void 0===(new XMLHttpRequest).responseType)){t.isPolyfill="IE_8-9";var e=t.prototype.defaultOptions;e.xhrHeaders=null,e.getArgs.evs_preamble=2056,t.prototype.XHR=function(t){var e=new XDomainRequest;this._request=e,e.onprogress=function(){e._ready=!0,t._onxhrdata()},e.onload=function(){this._loaded=!0,t._onxhrdata()},e.onerror=function(){this._failed=!0,t.readyState=t.CLOSED,t.dispatchEvent("error",{type:"error",data:"XDomainRequest error"})},e.ontimeout=function(){this._failed=!0,t.readyState=t.CLOSED,t.dispatchEvent("error",{type:"error",data:"XDomainRequest timed out"})};var n={};if(t.getArgs){var r=t.getArgs;for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o]);t.lastEventId&&(n.evs_last_event_id=t.lastEventId)}e.open("GET",t.urlWithParams(t.URL,n)),e.send()},t.prototype.XHR.prototype={useXDomainRequest:!0,_request:null,_ready:!1,_loaded:!1,_failed:!1,isReady:function(){return this._request._ready},isDone:function(){return this._request._loaded},hasError:function(){return this._request._failed},getBuffer:function(){var t="";try{t=this._request.responseText||""}catch(e){}return t},abort:function(){this._request&&this._request.abort()}}}else t.isPolyfill="XHR",t.prototype.XHR=function(t){var e=new XMLHttpRequest;this._request=e,t._xhr=this,e.onreadystatechange=function(){e.readyState>1&&t.readyState!=t.CLOSED&&(200==e.status||e.status>=300&&e.status<400?t._onxhrdata():(e._failed=!0,t.readyState=t.CLOSED,t.dispatchEvent("error",{type:"error",data:"The server responded with "+e.status}),t.close()))},e.onprogress=function(){},e.open("GET",t.urlWithParams(t.URL,t.getArgs),!0);var n=t.xhrHeaders;for(var r in n)n.hasOwnProperty(r)&&e.setRequestHeader(r,n[r]);t.lastEventId&&e.setRequestHeader("Last-Event-Id",t.lastEventId),e.send()},t.prototype.XHR.prototype={useXDomainRequest:!1,_request:null,_failed:!1,isReady:function(){return this._request.readyState>=2},isDone:function(){return 4==this._request.readyState},hasError:function(){return this._failed||this._request.status>=400},getBuffer:function(){var t="";try{t=this._request.responseText||""}catch(e){}return t},abort:function(){this._request&&this._request.abort()}};function n(t,e,n,r){this.bubbles=!1,this.cancelBubble=!1,this.cancelable=!1,this.data=e||null,this.origin=n||"",this.lastEventId=r||"",this.type=t||"message"}return t}));var rr=nr.exports,or=window.EventSource||rr.EventSource,ir=function(t){return"https://docs.sanity.io/help/"+t},sr=function(t){var e,n=!1;return function(){return n||(e=t.apply(void 0,arguments),n=!0),e}};function ar(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ar(Object(n),!0).forEach((function(e){cr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ar(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function cr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lr=zt,fr=er,hr=or,pr=function(t,e){return e.reduce((function(e,n){return void 0===t[n]||(e[n]=t[n]),e}),{})},dr=sr,yr=function(t,e){return Object.keys(e).concat(Object.keys(t)).reduce((function(n,r){return n[r]=void 0===t[r]?e[r]:t[r],n}),{})},vr=tn,gr=["Using token with listeners is not supported in browsers. ","For more info, see ".concat(ir("js-client-listener-tokens-browser"),".")],mr=dr((function(){return console.warn(gr.join(" "))})),br=Boolean("undefined"!=typeof window&&window.EventSource),wr=br?window.EventSource:hr,_r=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],Or={includeResult:!0};function Er(t){try{var e=t.data&&JSON.parse(t.data)||{};return lr({type:t.type},e)}catch(n){return n}}function xr(t){if(t instanceof Error)return t;var e=Er(t);return e instanceof Error?e:new Error(function(t){if(!t.error)return t.message||"Unknown listener error";if(t.error.description)return t.error.description;return"string"==typeof t.error?t.error:JSON.stringify(t.error,null,2)}(e))}function Sr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jr=zt,Pr=Ht.filter,Ir=Oe.map,kr=Me,Tr=De,$r=tn,Ar=Ge,Cr=Be,Dr=function(t,e){return!1===t?void 0:void 0===t?e:t},Mr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{returnIds:!0,returnDocuments:Dr(t.returnDocuments,!0),visibility:t.visibility||"sync"}},qr=function(t){return"response"===t.type},Rr=function(t){return t.body},Nr=function(t,e){return t.reduce((function(t,n){return t[e(n)]=n,t}),Object.create(null))},zr=function(t){return t.toPromise()},Hr={listen:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.clientConfig,o=r.url,i=r.token,s=r.withCredentials,a=r.requestTagPrefix,u=n.tag&&a?[a,n.tag].join("."):n.tag,c=ur(ur({},yr(n,Or)),{},{tag:u}),l=pr(c,_r),f=vr({query:t,params:e,options:l,tag:u}),h="".concat(o).concat(this.getDataUrl("listen",f)),p=c.events?c.events:["mutation"],d=-1!==p.indexOf("reconnect");i&&br&&mr();var y={};return(i||s)&&(y.withCredentials=!0),i&&(y.headers={Authorization:"Bearer ".concat(i)}),new fr((function(t){var e,n=c(),r=!1;function o(){r||(d&&t.next({type:"reconnect"}),r||n.readyState===wr.CLOSED&&(u(),clearTimeout(e),e=setTimeout(l,100)))}function i(e){t.error(xr(e))}function s(e){var n=Er(e);return n instanceof Error?t.error(n):t.next(n)}function a(e){r=!0,u(),t.complete()}function u(){n.removeEventListener("error",o,!1),n.removeEventListener("channelError",i,!1),n.removeEventListener("disconnect",a,!1),p.forEach((function(t){return n.removeEventListener(t,s,!1)})),n.close()}function c(){var t=new wr(h,y);return t.addEventListener("error",o,!1),t.addEventListener("channelError",i,!1),t.addEventListener("disconnect",a,!1),p.forEach((function(e){return t.addEventListener(e,s,!1)})),t}function l(){n=c()}return function(){r=!0,u()}}))},getDataUrl:function(t,e){var n=this.clientConfig,r=n.gradientMode?n.namespace:kr.hasDataset(n),o="/".concat(t,"/").concat(r),i=e?"".concat(o,"/").concat(e):o;return(this.clientConfig.gradientMode?i:"/data".concat(i)).replace(/\/($|\?)/,"$1")},fetch:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!1===n.filterResponse?function(t){return t}:function(t){return t.result},o=this._dataRequest("query",{query:t,params:e},n).pipe(Ir(r));return this.isPromiseAPI()?zr(o):o},getDocument:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={uri:this.getDataUrl("doc",t),json:!0,tag:e.tag},r=this._requestObservable(n).pipe(Pr(qr),Ir((function(t){return t.body.documents&&t.body.documents[0]})));return this.isPromiseAPI()?zr(r):r},getDocuments:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={uri:this.getDataUrl("doc",t.join(",")),json:!0,tag:e.tag},r=this._requestObservable(n).pipe(Pr(qr),Ir((function(e){var n=Nr(e.body.documents||[],(function(t){return t._id}));return t.map((function(t){return n[t]||null}))})));return this.isPromiseAPI()?zr(r):r},create:function(t,e){return this._create(t,"create",e)},createIfNotExists:function(t,e){return kr.requireDocumentId("createIfNotExists",t),this._create(t,"createIfNotExists",e)},createOrReplace:function(t,e){return kr.requireDocumentId("createOrReplace",t),this._create(t,"createOrReplace",e)},patch:function(t,e){return new Cr(t,e,this)},delete:function(t,e){return this.dataRequest("mutate",{mutations:[{delete:Tr(t)}]},e)},mutate:function(t,e){var n=t instanceof Cr||t instanceof Ar?t.serialize():t,r=Array.isArray(n)?n:[n],o=e&&e.transactionId;return this.dataRequest("mutate",{mutations:r,transactionId:o},e)},transaction:function(t){return new Ar(t,this)},dataRequest:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._dataRequest(t,e,n);return this.isPromiseAPI()?zr(r):r},_dataRequest:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="mutate"===t,o=!r&&$r(e),i=!r&&o.length<11264,s=i?o:"",a=n.returnFirst,u=n.timeout,c=n.token,l=n.tag,f=this.getDataUrl(t,s),h={method:i?"GET":"POST",uri:f,json:!0,body:i?void 0:e,query:r&&Mr(n),timeout:u,token:c,tag:l};return this._requestObservable(h).pipe(Pr(qr),Ir(Rr),Ir((function(t){if(!r)return t;var e=t.results||[];if(n.returnDocuments)return a?e[0]&&e[0].document:e.map((function(t){return t.document}));var o=a?"documentId":"documentIds",i=a?e[0]&&e[0].id:e.map((function(t){return t.id}));return Sr({transactionId:t.transactionId,results:e},o,i)})))},_create:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Sr({},e,t),o=jr({returnFirst:!0,returnDocuments:!0},n);return this.dataRequest("mutate",{mutations:[r]},o)}},Ur=Me;function Lr(t){this.request=t.request.bind(t)}zt(Lr.prototype,{create:function(t,e){return this._modify("PUT",t,e)},edit:function(t,e){return this._modify("PATCH",t,e)},delete:function(t){return this._modify("DELETE",t)},list:function(){return this.request({uri:"/datasets"})},_modify:function(t,e,n){return Ur.dataset(e),this.request({method:t,uri:"/datasets/".concat(e),body:n})}});var Br=Lr;function Wr(t){this.client=t}zt(Wr.prototype,{list:function(){return this.client.request({uri:"/projects"})},getById:function(t){return this.client.request({uri:"/projects/".concat(t)})}});var Fr=Wr;function Vr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);s=!0);}catch(u){a=!0,o=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Yr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yr(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Xr=zt,Jr=Oe.map,Gr=Ht.filter,Zr=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push("".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(t[n])));return e.length>0?"?".concat(e.join("&")):""},Kr=Me;function Qr(t){this.client=t}function to(t){var e=t.document;return Object.defineProperty(e,"document",{enumerable:!1,get:function(){return console.warn("The promise returned from client.asset.upload(...) now resolves with the asset document"),e}}),e}function eo(t,e){return"undefined"!=typeof window&&e instanceof window.File?Xr({filename:!1===t.preserveFilename?void 0:e.name,contentType:e.type},t):t}Xr(Qr.prototype,{upload:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Kr.validateAssetType(t);var r=n.extract||void 0;r&&!r.length&&(r=["none"]);var o=Kr.hasDataset(this.client.clientConfig),i="image"===t?"images":"files",s=eo(n,e),a=s.tag,u=s.label,c=s.title,l=s.description,f=s.creditLine,h=s.filename,p=s.source,d={label:u,title:c,description:l,filename:h,meta:r,creditLine:f};p&&(d.sourceId=p.id,d.sourceName=p.name,d.sourceUrl=p.url);var y=this.client._requestObservable({tag:a,method:"POST",timeout:s.timeout||0,uri:"/assets/".concat(i,"/").concat(o),headers:s.contentType?{"Content-Type":s.contentType}:{},query:d,body:e});return this.client.isPromiseAPI()?y.pipe(Gr((function(t){return"response"===t.type})),Jr((function(t){return to(t.body)}))).toPromise():y},delete:function(t,e){console.warn("client.assets.delete() is deprecated, please use client.delete(<document-id>)");var n=e||"";return/^(image|file)-/.test(n)?t._id&&(n=t._id):n="".concat(t,"-").concat(n),Kr.hasDataset(this.client.clientConfig),this.client.delete(n)},getImageUrl:function(t,e){var n=t._ref||t;if("string"!=typeof n)throw new Error("getImageUrl() needs either an object with a _ref, or a string with an asset document ID");if(!/^image-[A-Za-z0-9_]+-\d+x\d+-[a-z]{1,5}$/.test(n))throw new Error('Unsupported asset ID "'.concat(n,'". URL generation only works for auto-generated IDs.'));var r=Vr(n.split("-"),4),o=r[1],i=r[2],s=r[3];Kr.hasDataset(this.client.clientConfig);var a=this.client.clientConfig,u=a.projectId,c=a.dataset,l=e?Zr(e):"";return"https://cdn.sanity.io/images/".concat(u,"/").concat(c,"/").concat(o,"-").concat(i,".").concat(s).concat(l)}});var no=Qr;function ro(t){this.client=t}zt(ro.prototype,{getById:function(t){return this.client.request({uri:"/users/".concat(t)})}});var oo=ro;function io(t){this.client=t}zt(io.prototype,{getLoginProviders:function(){return this.client.request({uri:"/auth/providers"})},logout:function(){return this.client.request({uri:"/auth/logout",method:"POST"})}});var so=io,ao={},uo=Object.prototype.hasOwnProperty;function co(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return null}}function lo(t){try{return encodeURIComponent(t)}catch(e){return null}}ao.stringify=function(t,e){e=e||"";var n,r,o=[];for(r in"string"!=typeof e&&(e="?"),t)if(uo.call(t,r)){if((n=t[r])||null!=n&&!isNaN(n)||(n=""),r=lo(r),n=lo(n),null===r||null===n)continue;o.push(r+"="+n)}return o.length?e+o.join("&"):""},ao.parse=function(t){for(var e,n=/([^=?#&]+)=?([^&]*)/g,r={};e=n.exec(t);){var o=co(e[1]),i=co(e[2]);null===o||null===i||o in r||(r[o]=i)}return r};var fo=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t},ho=ao,po=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,yo=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,vo=/^[a-zA-Z]:/,go=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function mo(t){return(t||"").toString().replace(go,"")}var bo=[["#","hash"],["?","query"],function(t,e){return Oo(e.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],wo={hash:1,query:1};function _o(t){var e,n=("undefined"!=typeof window?window:void 0!==Ct?Ct:"undefined"!=typeof self?self:{}).location||{},r={},o=typeof(t=t||n);if("blob:"===t.protocol)r=new xo(unescape(t.pathname),{});else if("string"===o)for(e in r=new xo(t,{}),wo)delete r[e];else if("object"===o){for(e in t)e in wo||(r[e]=t[e]);void 0===r.slashes&&(r.slashes=po.test(t.href))}return r}function Oo(t){return"file:"===t||"ftp:"===t||"http:"===t||"https:"===t||"ws:"===t||"wss:"===t}function Eo(t,e){t=mo(t),e=e||{};var n,r=yo.exec(t),o=r[1]?r[1].toLowerCase():"",i=!!r[2],s=!!r[3],a=0;return i?s?(n=r[2]+r[3]+r[4],a=r[2].length+r[3].length):(n=r[2]+r[4],a=r[2].length):s?(n=r[3]+r[4],a=r[3].length):n=r[4],"file:"===o?a>=2&&(n=n.slice(2)):Oo(o)?n=r[4]:o?i&&(n=n.slice(2)):a>=2&&Oo(e.protocol)&&(n=r[4]),{protocol:o,slashes:i||Oo(o),slashesCount:a,rest:n}}function xo(t,e,n){if(t=mo(t),!(this instanceof xo))return new xo(t,e,n);var r,o,i,s,a,u,c=bo.slice(),l=typeof e,f=this,h=0;for("object"!==l&&"string"!==l&&(n=e,e=null),n&&"function"!=typeof n&&(n=ho.parse),r=!(o=Eo(t||"",e=_o(e))).protocol&&!o.slashes,f.slashes=o.slashes||r&&e.slashes,f.protocol=o.protocol||e.protocol||"",t=o.rest,("file:"===o.protocol&&(2!==o.slashesCount||vo.test(t))||!o.slashes&&(o.protocol||o.slashesCount<2||!Oo(f.protocol)))&&(c[3]=[/(.*)/,"pathname"]);h<c.length;h++)"function"!=typeof(s=c[h])?(i=s[0],u=s[1],i!=i?f[u]=t:"string"==typeof i?~(a=t.indexOf(i))&&("number"==typeof s[2]?(f[u]=t.slice(0,a),t=t.slice(a+s[2])):(f[u]=t.slice(a),t=t.slice(0,a))):(a=i.exec(t))&&(f[u]=a[1],t=t.slice(0,a.index)),f[u]=f[u]||r&&s[3]&&e[u]||"",s[4]&&(f[u]=f[u].toLowerCase())):t=s(t,f);n&&(f.query=n(f.query)),r&&e.slashes&&"/"!==f.pathname.charAt(0)&&(""!==f.pathname||""!==e.pathname)&&(f.pathname=function(t,e){if(""===t)return e;for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=n.length,o=n[r-1],i=!1,s=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),s++):s&&(0===r&&(i=!0),n.splice(r,1),s--);return i&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}(f.pathname,e.pathname)),"/"!==f.pathname.charAt(0)&&Oo(f.protocol)&&(f.pathname="/"+f.pathname),fo(f.port,f.protocol)||(f.host=f.hostname,f.port=""),f.username=f.password="",f.auth&&(s=f.auth.split(":"),f.username=s[0]||"",f.password=s[1]||""),f.origin="file:"!==f.protocol&&Oo(f.protocol)&&f.host?f.protocol+"//"+f.host:"null",f.href=f.toString()}xo.prototype={set:function(t,e,n){var r=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(n||ho.parse)(e)),r[t]=e;break;case"port":r[t]=e,fo(e,r.protocol)?e&&(r.host=r.hostname+":"+e):(r.host=r.hostname,r[t]="");break;case"hostname":r[t]=e,r.port&&(e+=":"+r.port),r.host=e;break;case"host":r[t]=e,/:\d+$/.test(e)?(e=e.split(":"),r.port=e.pop(),r.hostname=e.join(":")):(r.hostname=e,r.port="");break;case"protocol":r.protocol=e.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(e){var o="pathname"===t?"/":"#";r[t]=e.charAt(0)!==o?o+e:e}else r[t]=e;break;default:r[t]=e}for(var i=0;i<bo.length;i++){var s=bo[i];s[4]&&(r[s[1]]=r[s[1]].toLowerCase())}return r.origin="file:"!==r.protocol&&Oo(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(t){t&&"function"==typeof t||(t=ho.stringify);var e,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var o=r+(n.slashes||Oo(n.protocol)?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,(e="object"==typeof n.query?t(n.query):n.query)&&(o+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(o+=n.hash),o}},xo.extractProtocol=Eo,xo.location=_o,xo.trimLeft=mo,xo.qs=ho;var So=zt,jo=xo,Po="undefined"!=typeof navigator&&"ReactNative"===navigator.product,Io=Object.prototype.hasOwnProperty,ko={timeout:Po?6e4:12e4};function To(t){var e=[];for(var n in t)Io.call(t,n)&&r(n,t[n]);return e.length?e.join("&"):"";function r(t,n){Array.isArray(n)?n.forEach((function(e){return r(t,e)})):e.push([t,n].map(encodeURIComponent).join("="))}}function $o(t){if(!1===t||0===t)return!1;if(t.connect||t.socket)return t;var e=Number(t);return isNaN(e)?$o(ko.timeout):{connect:e,socket:e}}var Ao=/^https?:\/\//i,Co=/^(?:(?:(?:([^:\/#\?]+:)?(?:(?:\/\/)((?:((?:[^:@\/#\?]+)(?:\:(?:[^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((?:\/?(?:[^\/\?#]+\/+)*)(?:[^\?#]*)))?(\?[^#]+)?)(#.*)?/,Do={regex:Co,parse:function(t){var e=Co.exec(t);return e?{protocol:(e[1]||"").toLowerCase()||void 0,hostname:(e[5]||"").toLowerCase()||void 0,port:e[6]||void 0}:{}}},Mo=function(t){return t.replace(/^\s+|\s+$/g,"")},qo=function(t,e,n){if(t===e)return!0;var r=Do.parse(t,!1,!0),o=Do.parse(e,!1,!0),i=0|r.port||("https"===r.protocol?443:80),s=0|o.port||("https"===o.protocol?443:80),a={proto:r.protocol===o.protocol,hostname:r.hostname===o.hostname,port:i===s};return a.proto&&a.hostname&&(a.port||n)},Ro=function(t){if(!t)return{};for(var e,n={},r=Mo(t).split("\n"),o=0;o<r.length;o++){var i=r[o],s=i.indexOf(":"),a=Mo(i.slice(0,s)).toLowerCase(),u=Mo(i.slice(s+1));void 0===n[a]?n[a]=u:(e=n[a],"[object Array]"===Object.prototype.toString.call(e)?n[a].push(u):n[a]=[n[a],u])}return n},No=window,zo=No.XMLHttpRequest||function(){},Ho="withCredentials"in new zo?zo:No.XDomainRequest,Uo=function(){var t=[];return{subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}},publish:function(){for(var e=0;e<t.length;e++)t[e].apply(null,arguments)}}},Lo=function(t){return function(e,n){for(var r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];for(var s="onError"===e,a=n,u=0;u<t[e].length;u++){var c=t[e][u];if(a=c.apply(void 0,[a].concat(o)),s&&!a)break}return a}},Bo=function(t){var e="string"==typeof t?So({url:t},ko):So({},ko,t),n=jo(e.url,{},!0);return e.timeout=$o(e.timeout),e.query&&(n.query=So({},n.query,function(t){var e={};for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}(e.query))),e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e.url=n.toString(To),e},Wo=function(t){if(!Ao.test(t.url))throw new Error('"'+t.url+'" is not a valid URL')},Fo=function(t,e){var n=t.options,r=t.applyMiddleware("finalizeOptions",n),o={},i=No&&No.location&&!qo(No.location.href,r.url),s=t.applyMiddleware("interceptRequest",void 0,{adapter:"xhr",context:t});if(s){var a=setTimeout(e,0,null,s);return{abort:function(){return clearTimeout(a)}}}var u=i?new Ho:new zo,c=No.XDomainRequest&&u instanceof No.XDomainRequest,l=r.headers,f=!1,h=!1,p=!1;if(u.onerror=m,u.ontimeout=m,u.onabort=function(){f=!0},u.onprogress=function(){},u[c?"onload":"onreadystatechange"]=function(){!function(){if(!y)return;g(),o.socket=setTimeout((function(){return v("ESOCKETTIMEDOUT")}),y.socket)}(),f||4!==u.readyState&&!c||0!==u.status&&function(){if(f||h||p)return;if(0===u.status)return void m();g(),h=!0,e(null,function(){var t=u.status,e=u.statusText;if(c&&void 0===t)t=200;else{if(t>12e3&&t<12156)return m();t=1223===u.status?204:u.status,e=1223===u.status?"No Content":e}return{body:u.response||u.responseText,url:r.url,method:r.method,headers:c?{}:Ro(u.getAllResponseHeaders()),statusCode:t,statusMessage:e}}())}()},u.open(r.method,r.url,!0),u.withCredentials=!!r.withCredentials,l&&u.setRequestHeader)for(var d in l)l.hasOwnProperty(d)&&u.setRequestHeader(d,l[d]);else if(l&&c)throw new Error("Headers cannot be set on an XDomainRequest object");r.rawBody&&(u.responseType="arraybuffer"),t.applyMiddleware("onRequest",{options:r,adapter:"xhr",request:u,context:t}),u.send(r.body||null);var y=r.timeout;return y&&(o.connect=setTimeout((function(){return v("ETIMEDOUT")}),y.connect)),{abort:function(){f=!0,u&&u.abort()}};function v(e){p=!0,u.abort();var n=new Error("ESOCKETTIMEDOUT"===e?"Socket timed out on request to "+r.url:"Connection timed out on request to "+r.url);n.code=e,t.channels.error.publish(n)}function g(){(f||u.readyState>=2&&o.connect)&&clearTimeout(o.connect),o.socket&&clearTimeout(o.socket)}function m(){if(!h){g(),h=!0,u=null;var t=new Error("Network error while attempting to reach "+r.url);t.isNetworkError=!0,t.request=r,e(t)}}},Vo=["request","response","progress","error","abort"],Yo=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"],Xo=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[],r=Yo.reduce((function(t,e){return t[e]=t[e]||[],t}),{processOptions:[Bo],validateOptions:[Wo]});function o(t){var e=Vo.reduce((function(t,e){return t[e]=Uo(),t}),{}),n=Lo(r),o=n("processOptions",t);n("validateOptions",o);var i={options:o,channels:e,applyMiddleware:n},s=null,a=e.request.subscribe((function(t){s=Fo(t,(function(r,o){return function(t,o,i){var s=t,a=o;if(!s)try{a=n("onResponse",o,i)}catch(r){a=null,s=r}(s=s&&n("onError",s,i))?e.error.publish(s):a&&e.response.publish(a)}(r,o,t)}))}));e.abort.subscribe((function(){a(),s&&s.abort()}));var u=n("onReturn",e,i);return u===e&&e.request.publish(i),u}return o.use=function(t){if(!t)throw new Error("Tried to add middleware that resolved to falsey value");if("function"==typeof t)throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(t.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return Yo.forEach((function(e){t[e]&&r[e].push(t[e])})),n.push(t),o},o.clone=function(){return t(n)},e.forEach(o.use),o},Jo={exports:{}};"undefined"!=typeof window?Jo.exports=window:void 0!==Ct?Jo.exports=Ct:"undefined"!=typeof self?Jo.exports=self:Jo.exports={};var Go=Jo.exports,Zo=zt,Ko=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)};function Qo(t){return!0===Ko(t)&&"[object Object]"===Object.prototype.toString.call(t)}var ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ei=zt,ni=function(t){var e,n;return!1!==Qo(t)&&("function"==typeof(e=t.constructor)&&(!1!==Qo(n=e.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))},ri=["boolean","string","number"],oi=zt;function ii(t){try{return JSON.parse(t)}catch(e){throw e.message="Failed to parsed response body as JSON: "+e.message,e}}var si=function(){return{onRequest:function(t){if("xhr"===t.adapter){var e=t.request,n=t.context;"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=r("upload")),"onprogress"in e&&(e.onprogress=r("download"))}function r(t){return function(e){var r=e.lengthComputable?e.loaded/e.total*100:-1;n.channels.progress.publish({stage:t,percent:r,total:e.total,loaded:e.loaded,lengthComputable:e.lengthComputable})}}}}},ai={},ui={exports:{}};!function(t,e){var n="undefined"!=typeof Reflect?Reflect.construct:void 0,r=Object.defineProperty,o=Error.captureStackTrace;function i(t){void 0!==t&&r(this,"message",{configurable:!0,value:t,writable:!0});var e=this.constructor.name;void 0!==e&&e!==this.name&&r(this,"name",{configurable:!0,value:e,writable:!0}),o(this,this.constructor)}void 0===o&&(o=function(t){var e=new Error;r(t,"stack",{configurable:!0,get:function(){var t=e.stack;return r(this,"stack",{configurable:!0,value:t,writable:!0}),t},set:function(e){r(t,"stack",{configurable:!0,value:e,writable:!0})}})}),i.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:i,writable:!0}});var s=function(){function t(t,e){return r(t,"name",{configurable:!0,value:e})}try{var e=function(){};if(t(e,"foo"),"foo"===e.name)return t}catch(n){}}();(t.exports=function(t,e){if(null==e||e===Error)e=i;else if("function"!=typeof e)throw new TypeError("super_ should be a function");var r;if("string"==typeof t)r=t,t=void 0!==n?function(){return n(e,arguments,this.constructor)}:function(){e.apply(this,arguments)},void 0!==s&&(s(t,r),r=void 0);else if("function"!=typeof t)throw new TypeError("constructor should be either a string or a function");t.super_=t.super=e;var o={constructor:{configurable:!0,value:t,writable:!0}};return void 0!==r&&(o.name={configurable:!0,value:r,writable:!0}),t.prototype=Object.create(e.prototype,o),t}).BaseError=i}(ui);var ci=ui.exports,li=zt;function fi(t){var e=pi(t);fi.super.call(this,e.message),li(this,e)}function hi(t){var e=pi(t);hi.super.call(this,e.message),li(this,e)}function pi(t){var e=t.body,n={response:t,statusCode:t.statusCode,responseBody:di(e,t)};return e.error&&e.message?(n.message="".concat(e.error," - ").concat(e.message),n):e.error&&e.error.description?(n.message=e.error.description,n.details=e.error,n):(n.message=e.error||e.message||function(t){var e=t.statusMessage?" ".concat(t.statusMessage):"";return"".concat(t.method,"-request to ").concat(t.url," resulted in HTTP ").concat(t.statusCode).concat(e)}(t),n)}function di(t,e){return-1!==(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")?JSON.stringify(t,null,2):t}ci(fi),ci(hi),ai.ClientError=fi,ai.ServerError=hi;var yi=Xo,vi=zt,gi=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.implementation||Go.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:function(t,n){return new e((function(e){return t.error.subscribe((function(t){return e.error(t)})),t.progress.subscribe((function(t){return e.next(Zo({type:"progress"},t))})),t.response.subscribe((function(t){e.next(Zo({type:"response"},t)),e.complete()})),t.request.publish(n),function(){return t.abort.publish()}}))}}},mi=function(){return{processOptions:function(t){var e,n=t.body;return n&&!("function"==typeof n.pipe)&&!((e=n).constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))&&(-1!==ri.indexOf(void 0===n?"undefined":ti(n))||Array.isArray(n)||ni(n))?ei({},t,{body:JSON.stringify(t.body),headers:ei({},t.headers,{"Content-Type":"application/json"})}):t}}},bi=function(t){return{onResponse:function(e){var n=e.headers["content-type"]||"",r=t&&t.force||-1!==n.indexOf("application/json");return e.body&&n&&r?oi({},e,{body:ii(e.body)}):e},processOptions:function(t){return oi({},t,{headers:oi({Accept:"application/json"},t.headers)})}}},wi=si,_i=er,Oi=ai,Ei=Oi.ClientError,xi=Oi.ServerError,Si={onResponse:function(t){if(t.statusCode>=500)throw new xi(t);if(t.statusCode>=400)throw new Ei(t);return t}},ji=yi([].concat([{onResponse:function(t){var e=t.headers["x-sanity-warning"];return(Array.isArray(e)?e:[e]).filter(Boolean).forEach((function(t){return console.warn(t)})),t}},mi(),bi(),wi(),Si,gi({implementation:_i})]));function Pi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ji;return e(vi({maxRedirects:0},t))}Pi.defaultRequester=ji,Pi.ClientError=Ei,Pi.ServerError=xi;var Ii=Pi,ki=zt,Ti={},$i={},Ai=ir,Ci=sr,Di=function(t){return Ci((function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=console).warn.apply(e,[t.join(" ")].concat(r))}))};function Mi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}$i.printCdnWarning=Di(["You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and","cheaper. Think about it! For more info, see ".concat(Ai("js-client-cdn-configuration"),"."),"To hide this warning, please set the `useCdn` option to either `true` or `false` when creating","the client."]),$i.printBrowserTokenWarning=Di(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(Ai("js-client-browser-token")," for more information and how to hide this warning.")]),$i.printCdnTokenWarning=Di(["You have set `useCdn` to `true` while also specifying a token. This is usually not what you","want. The CDN cannot be used with an authorization token, since private data cannot be cached.","See ".concat(Ai("js-client-usecdn-token")," for more information.")]),$i.printNoApiVersionSpecifiedWarning=Di(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(Ai("js-client-api-version"))]),function(t){var e=ir,n=zt,r=Me,o=$i,i={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,gradientMode:!1,isPromiseAPI:!0},s=["localhost","127.0.0.1","0.0.0.0"];t.defaultConfig=i,t.initConfig=function(a,u){var c=n({},u,a);c.apiVersion||o.printNoApiVersionSpecifiedWarning();var l=n({},i,c),f=l.gradientMode,h=!f&&l.useProjectHostname;if("undefined"==typeof Promise){var p=e("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(p))}if(f&&!l.namespace)throw new Error("Configuration must contain `namespace` when running in gradient mode");if(h&&!l.projectId)throw new Error("Configuration must contain `projectId`");var d="undefined"!=typeof window&&window.location&&window.location.hostname,y=d&&function(t){return-1!==s.indexOf(t)}(window.location.hostname);if(d&&y&&l.token&&!0!==l.ignoreBrowserTokenWarning?o.printBrowserTokenWarning():(!d||y)&&l.useCdn&&l.token?o.printCdnTokenWarning():void 0===l.useCdn&&o.printCdnWarning(),h&&r.projectId(l.projectId),!f&&l.dataset&&r.dataset(l.dataset,l.gradientMode),"requestTagPrefix"in l&&(l.requestTagPrefix=l.requestTagPrefix?r.requestTag(l.requestTagPrefix).replace(/\.+$/,""):void 0),l.apiVersion="".concat(l.apiVersion).replace(/^v/,""),l.isDefaultApi=l.apiHost===i.apiHost,l.useCdn=Boolean(l.useCdn)&&!l.token&&!l.withCredentials,t.validateApiVersion(l.apiVersion),l.gradientMode)l.url=l.apiHost,l.cdnUrl=l.apiHost;else{var v=l.apiHost.split("://",2),g=v[0],m=v[1],b=l.isDefaultApi?"apicdn.sanity.io":m;l.useProjectHostname?(l.url="".concat(g,"://").concat(l.projectId,".").concat(m,"/v").concat(l.apiVersion),l.cdnUrl="".concat(g,"://").concat(l.projectId,".").concat(b,"/v").concat(l.apiVersion)):(l.url="".concat(l.apiHost,"/v").concat(l.apiVersion),l.cdnUrl=l.url)}return l},t.validateApiVersion=function(t){if("1"!==t&&"X"!==t){var e=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&e instanceof Date&&e.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}}}(Ti);var Ri=zt,Ni=Ht.filter,zi=Oe.map,Hi=Be,Ui=Ge,Li=Hr,Bi=Br,Wi=Fr,Fi=no,Vi=oo,Yi=so,Xi=Ii,Ji=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=e.token||t.token;r&&(n.Authorization="Bearer ".concat(r)),e.useGlobalApi||t.useProjectHostname||!t.projectId||(n["X-Sanity-Project-ID"]=t.projectId);var o=Boolean(void 0===e.withCredentials?t.token||t.withCredentials:e.withCredentials),i=void 0===e.timeout?t.timeout:e.timeout;return ki({},e,{headers:ki({},n,e.headers||{}),timeout:void 0===i?3e5:i,json:!0,withCredentials:o})},Gi=Ti.defaultConfig,Zi=Ti.initConfig,Ki=Me;function Qi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gi;if(!(this instanceof Qi))return new Qi(t);if(this.config(t),this.assets=new Fi(this),this.datasets=new Bi(this),this.projects=new Wi(this),this.users=new Vi(this),this.auth=new Yi(this),this.clientConfig.isPromiseAPI){var e=Ri({},this.clientConfig,{isPromiseAPI:!1});this.observable=new Qi(e)}}Ri(Qi.prototype,Li),Ri(Qi.prototype,{clone:function(){return new Qi(this.config())},config:function(t){if(void 0===t)return Ri({},this.clientConfig);if(this.observable){var e=Ri({},t,{isPromiseAPI:!1});this.observable.config(e)}return this.clientConfig=Zi(t,this.clientConfig||{}),this},withConfig:function(t){return this.clone().config(t)},getUrl:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e?this.clientConfig.cdnUrl:this.clientConfig.url;return"".concat(n,"/").concat(t.replace(/^\//,""))},isPromiseAPI:function(){return this.clientConfig.isPromiseAPI},_requestObservable:function(t){var e=t.url||t.uri,n=this.clientConfig.useCdn&&["GET","HEAD"].indexOf(t.method||"GET")>=0&&0===e.indexOf("/data/"),r=t.tag&&this.clientConfig.requestTagPrefix?[this.clientConfig.requestTagPrefix,t.tag].join("."):t.tag||this.clientConfig.requestTagPrefix;r&&(t.query=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mi(Object(n),!0).forEach((function(e){qi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({tag:Ki.requestTag(r)},t.query));var o=Ji(this.clientConfig,Ri({},t,{url:this.getUrl(e,n)}));return Xi(o,this.clientConfig.requester)},request:function(t){var e=this._requestObservable(t).pipe(Ni((function(t){return"response"===t.type})),zi((function(t){return t.body})));return this.isPromiseAPI()?function(t){return t.toPromise()}(e):e}}),Qi.Patch=Hi,Qi.Transaction=Ui,Qi.ClientError=Xi.ClientError,Qi.ServerError=Xi.ServerError,Qi.requester=Xi.defaultRequester;var ts,es,ns,rs=Qi,os={exports:{}},is=os.exports=function(){var t=1e3,e=6e4,n=36e5,r="millisecond",o="second",i="minute",s="hour",a="day",u="week",c="month",l="quarter",f="year",h="date",p="Invalid Date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},g=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},m={s:g,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),o=n%60;return(e<=0?"+":"-")+g(r,2,"0")+":"+g(o,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),o=e.clone().add(r,c),i=n-o<0,s=e.clone().add(r+(i?-1:1),c);return+(-(r+(n-o)/(i?o-s:s-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:f,w:u,d:a,D:h,h:s,m:i,s:o,ms:r,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},b="en",w={};w[b]=v;var _=function(t){return t instanceof S},O=function(t,e,n){var r;if(!t)return b;if("string"==typeof t)w[t]&&(r=t),e&&(w[t]=e,r=t);else{var o=t.name;w[o]=t,r=o}return!n&&r&&(b=r),r||!n&&b},E=function(t,e){if(_(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new S(n)},x=m;x.l=O,x.i=_,x.w=function(t,e){return E(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function v(t){this.$L=O(t.locale,null,!0),this.parse(t)}var g=v.prototype;return g.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(x.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(d);if(r){var o=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},g.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},g.$utils=function(){return x},g.isValid=function(){return!(this.$d.toString()===p)},g.isSame=function(t,e){var n=E(t);return this.startOf(e)<=n&&n<=this.endOf(e)},g.isAfter=function(t,e){return E(t)<this.startOf(e)},g.isBefore=function(t,e){return this.endOf(e)<E(t)},g.$g=function(t,e,n){return x.u(t)?this[e]:this.set(n,t)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(t,e){var n=this,r=!!x.u(e)||e,l=x.p(t),p=function(t,e){var o=x.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?o:o.endOf(a)},d=function(t,e){return x.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,v=this.$M,g=this.$D,m="set"+(this.$u?"UTC":"");switch(l){case f:return r?p(1,0):p(31,11);case c:return r?p(1,v):p(0,v+1);case u:var b=this.$locale().weekStart||0,w=(y<b?y+7:y)-b;return p(r?g-w:g+(6-w),v);case a:case h:return d(m+"Hours",0);case s:return d(m+"Minutes",1);case i:return d(m+"Seconds",2);case o:return d(m+"Milliseconds",3);default:return this.clone()}},g.endOf=function(t){return this.startOf(t,!1)},g.$set=function(t,e){var n,u=x.p(t),l="set"+(this.$u?"UTC":""),p=(n={},n[a]=l+"Date",n[h]=l+"Date",n[c]=l+"Month",n[f]=l+"FullYear",n[s]=l+"Hours",n[i]=l+"Minutes",n[o]=l+"Seconds",n[r]=l+"Milliseconds",n)[u],d=u===a?this.$D+(e-this.$W):e;if(u===c||u===f){var y=this.clone().set(h,1);y.$d[p](d),y.init(),this.$d=y.set(h,Math.min(this.$D,y.daysInMonth())).$d}else p&&this.$d[p](d);return this.init(),this},g.set=function(t,e){return this.clone().$set(t,e)},g.get=function(t){return this[x.p(t)]()},g.add=function(r,l){var h,p=this;r=Number(r);var d=x.p(l),y=function(t){var e=E(p);return x.w(e.date(e.date()+Math.round(t*r)),p)};if(d===c)return this.set(c,this.$M+r);if(d===f)return this.set(f,this.$y+r);if(d===a)return y(1);if(d===u)return y(7);var v=(h={},h[i]=e,h[s]=n,h[o]=t,h)[d]||1,g=this.$d.getTime()+r*v;return x.w(g,this)},g.subtract=function(t,e){return this.add(-1*t,e)},g.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=t||"YYYY-MM-DDTHH:mm:ssZ",o=x.z(this),i=this.$H,s=this.$m,a=this.$M,u=n.weekdays,c=n.months,l=function(t,n,o,i){return t&&(t[n]||t(e,r))||o[n].substr(0,i)},f=function(t){return x.s(i%12||12,t,"0")},h=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},d={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:x.s(a+1,2,"0"),MMM:l(n.monthsShort,a,c,3),MMMM:l(c,a),D:this.$D,DD:x.s(this.$D,2,"0"),d:String(this.$W),dd:l(n.weekdaysMin,this.$W,u,2),ddd:l(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(i),HH:x.s(i,2,"0"),h:f(1),hh:f(2),a:h(i,s,!0),A:h(i,s,!1),m:String(s),mm:x.s(s,2,"0"),s:String(this.$s),ss:x.s(this.$s,2,"0"),SSS:x.s(this.$ms,3,"0"),Z:o};return r.replace(y,(function(t,e){return e||d[t]||o.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(r,h,p){var d,y=x.p(h),v=E(r),g=(v.utcOffset()-this.utcOffset())*e,m=this-v,b=x.m(this,v);return b=(d={},d[f]=b/12,d[c]=b,d[l]=b/3,d[u]=(m-g)/6048e5,d[a]=(m-g)/864e5,d[s]=m/n,d[i]=m/e,d[o]=m/t,d)[y]||m,p?b:x.a(b)},g.daysInMonth=function(){return this.endOf(c).$D},g.$locale=function(){return w[this.$L]},g.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=O(t,e,!0);return r&&(n.$L=r),n},g.clone=function(){return x.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},v}(),j=S.prototype;return E.prototype=j,[["$ms",r],["$s",o],["$m",i],["$H",s],["$W",a],["$M",c],["$y",f],["$D",h]].forEach((function(t){j[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),E.extend=function(t,e){return t.$i||(t(e,S,E),t.$i=!0),E},E.locale=O,E.isDayjs=_,E.unix=function(t){return E(1e3*t)},E.en=w[b],E.Ls=w,E.p={},E}(),ss={exports:{}},as=(es=String.prototype.split,ns=/()??/.exec("")[1]===ts,function(t,e,n){if("[object RegExp]"!==Object.prototype.toString.call(e))return es.call(t,e,n);var r,o,i,s,a=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),c=0;for(e=new RegExp(e.source,u+"g"),t+="",ns||(r=new RegExp("^"+e.source+"$(?!\\s)",u)),n=n===ts?-1>>>0:n>>>0;(o=e.exec(t))&&!((i=o.index+o[0].length)>c&&(a.push(t.slice(c,o.index)),!ns&&o.length>1&&o[0].replace(r,(function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===ts&&(o[t]=ts)})),o.length>1&&o.index<t.length&&Array.prototype.push.apply(a,o.slice(1)),s=o[0].length,c=i,a.length>=n));)e.lastIndex===o.index&&e.lastIndex++;return c===t.length?!s&&e.test("")||a.push(""):a.push(t.slice(c)),a.length>n?a.slice(0,n):a}),us=[].indexOf,cs=function(t,e){if(us)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1},ls=function(t){var e=t.classList;if(e)return e;var n={add:r,remove:o,contains:i,toggle:function(t){return i(t)?(o(t),!1):(r(t),!0)},toString:function(){return t.className},length:0,item:function(t){return s()[t]||null}};return n;function r(t){var e=s();cs(e,t)>-1||(e.push(t),a(e))}function o(t){var e=s(),n=cs(e,t);-1!==n&&(e.splice(n,1),a(e))}function i(t){return cs(s(),t)>-1}function s(){return function(t,e){for(var n=[],r=0;r<t.length;r++)e(t[r])&&n.push(t[r]);return n}(t.className.split(" "),fs)}function a(e){var r=e.length;t.className=e.join(" "),n.length=r;for(var o=0;o<e.length;o++)n[o]=e[o];delete e[r]}};function fs(t){return!!t}var hs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{}}),ps=as,ds=ls,ys="undefined"==typeof window?Dt(hs):window,vs=ys.document,gs=ys.Text;function ms(){var t=[];function e(){var e=[].slice.call(arguments),n=null;function r(e){var o,i;if(null==e);else if("string"==typeof e)n?n.appendChild(o=vs.createTextNode(e)):(i=ps(e,/([\.#]?[^\s#.]+)/),/^\.|#/.test(i[1])&&(n=vs.createElement("div")),ws(i,(function(t){var e=t.substring(1,t.length);t&&(n?"."===t[0]?ds(n).add(e):"#"===t[0]&&n.setAttribute("id",e):n=vs.createElement(t))})));else if("number"==typeof e||"boolean"==typeof e||e instanceof Date||e instanceof RegExp)n.appendChild(o=vs.createTextNode(e.toString()));else if(_s(e))ws(e,r);else if(bs(e))n.appendChild(o=e);else if(e instanceof gs)n.appendChild(o=e);else if("object"==typeof e)for(var s in e)if("function"==typeof e[s])/^on\w+/.test(s)?function(e,r){n.addEventListener?(n.addEventListener(e.substring(2),r[e],!1),t.push((function(){n.removeEventListener(e.substring(2),r[e],!1)}))):(n.attachEvent(e,r[e]),t.push((function(){n.detachEvent(e,r[e])})))}(s,e):(n[s]=e[s](),t.push(e[s]((function(t){n[s]=t}))));else if("style"===s)if("string"==typeof e[s])n.style.cssText=e[s];else for(var a in e[s])!function(r,o){if("function"==typeof o)n.style.setProperty(r,o()),t.push(o((function(t){n.style.setProperty(r,t)})));else var i=e[s][r].match(/(.*)\W+!important\W*$/);i?n.style.setProperty(r,i[1],"important"):n.style.setProperty(r,e[s][r])}(a,e[s][a]);else if("attrs"===s)for(var u in e[s])n.setAttribute(u,e[s][u]);else"data-"===s.substr(0,5)?n.setAttribute(s,e[s]):n[s]=e[s];else if("function"==typeof e){u=e();n.appendChild(o=bs(u)?u:vs.createTextNode(u)),t.push(e((function(t){bs(t)&&o.parentElement?(o.parentElement.replaceChild(t,o),o=t):o.textContent=t})))}return o}for(;e.length;)r(e.shift());return n}return e.cleanup=function(){for(var e=0;e<t.length;e++)t[e]();t.length=0},e}function bs(t){return t&&t.nodeName&&t.nodeType}function ws(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e(t[n],n)}function _s(t){return"[object Array]"==Object.prototype.toString.call(t)}(ss.exports=ms()).context=ms;var Os=ss.exports,Es={exports:{}},xs=Es.exports=function(){function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function e(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r(t){var n=0;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=e(t)))return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}var o="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function i(t){var e=t.split("-"),n=e[1],r=e[2],i=e[3];if(!n||!r||!i)throw new Error("Malformed asset _ref '"+t+"'. Expected an id like \""+o+'".');var s=r.split("x"),a=+s[0],u=+s[1];if(!isFinite(a)||!isFinite(u))throw new Error("Malformed asset _ref '"+t+"'. Expected an id like \""+o+'".');return{id:n,width:a,height:u,format:i}}var s=function(t){return!!t&&"string"==typeof t._ref},a=function(t){return!!t&&"string"==typeof t._id},u=function(t){var e=t;return!(!e||!e.asset)&&"string"==typeof e.asset.url};function c(t){if(!t)return null;var e;if("string"==typeof t&&l(t))e={asset:{_ref:f(t)}};else if("string"==typeof t)e={asset:{_ref:t}};else if(s(t))e={asset:t};else if(a(t))e={asset:{_ref:t._id||""}};else if(u(t))e={asset:{_ref:f(t.asset.url)}};else{if("object"!=typeof t.asset)return null;e=t}var n=t;return n.crop&&(e.crop=n.crop),n.hotspot&&(e.hotspot=n.hotspot),h(e)}function l(t){return/^https?:\/\//.test(""+t)}function f(t){return("image-"+t.split("/").slice(-1)[0]).replace(/\.([a-z]+)$/,"-$1")}function h(e){if(e.crop&&e.hotspot)return e;var n=t({},e);return n.crop||(n.crop={left:0,top:0,bottom:0,right:0}),n.hotspot||(n.hotspot={x:.5,y:.5,height:1,width:1}),n}var p=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function d(e){var n=t({},e||{}),r=n.source;delete n.source;var o=c(r);if(!o)return null;var s=i(o.asset._ref||o.asset._id||""),a=Math.round(o.crop.left*s.width),u=Math.round(o.crop.top*s.height),l={left:a,top:u,width:Math.round(s.width-o.crop.right*s.width-a),height:Math.round(s.height-o.crop.bottom*s.height-u)},f=o.hotspot.height*s.height/2,h=o.hotspot.width*s.width/2,p=o.hotspot.x*s.width,d=o.hotspot.y*s.height,g={left:p-h,top:d-f,right:p+h,bottom:d+f};return n.rect||n.focalPoint||n.ignoreImageParams||n.crop||(n=t(t({},n),v({crop:l,hotspot:g},n))),y(t(t({},n),{},{asset:s}))}function y(t){var e=t.baseUrl||"https://cdn.sanity.io",n=t.asset.id+"-"+t.asset.width+"x"+t.asset.height+"."+t.asset.format,r=e+"/images/"+t.projectId+"/"+t.dataset+"/"+n,o=[];if(t.rect){var i=t.rect,s=i.left,a=i.top,u=i.width,c=i.height;(0!==s||0!==a||c!==t.asset.height||u!==t.asset.width)&&o.push("rect="+s+","+a+","+u+","+c)}t.bg&&o.push("bg="+t.bg),t.focalPoint&&(o.push("fp-x="+t.focalPoint.x),o.push("fp-y="+t.focalPoint.y));var l=[t.flipHorizontal&&"h",t.flipVertical&&"v"].filter(Boolean).join("");return l&&o.push("flip="+l),p.forEach((function(e){var n=e[0],r=e[1];void 0!==t[n]?o.push(r+"="+encodeURIComponent(t[n])):void 0!==t[r]&&o.push(r+"="+encodeURIComponent(t[r]))})),0===o.length?r:r+"?"+o.join("&")}function v(t,e){var n,r=e.width,o=e.height;if(!r||!o)return{width:r,height:o,rect:t.crop};var i=t.crop,s=t.hotspot,a=r/o;if(i.width/i.height>a){var u=i.height,c=u*a,l=i.top,f=(s.right-s.left)/2+s.left-c/2;f<i.left?f=i.left:f+c>i.left+i.width&&(f=i.left+i.width-c),n={left:Math.round(f),top:Math.round(l),width:Math.round(c),height:Math.round(u)}}else{var h=i.width,p=h/a,d=i.left,y=(s.bottom-s.top)/2+s.top-p/2;y<i.top?y=i.top:y+p>i.top+i.height&&(y=i.top+i.height-p),n={left:Math.max(0,Math.floor(d)),top:Math.max(0,Math.floor(y)),width:Math.round(h),height:Math.round(p)}}return{width:r,height:o,rect:n}}var g=["clip","crop","fill","fillmax","max","scale","min"],m=["top","bottom","left","right","center","focalpoint","entropy"],b=["format"];function w(t){return!!t&&"object"==typeof t.clientConfig}function _(t){for(var e,n=r(p);!(e=n()).done;){var o=e.value,i=o[0],s=o[1];if(t===i||t===s)return i}return t}function O(t){var e=t;if(w(e)){var n=e.clientConfig,r=n.apiHost,o=n.projectId,i=n.dataset;return new E(null,{baseUrl:(r||"https://api.sanity.io").replace(/^https:\/\/api\./,"https://cdn."),projectId:o,dataset:i})}return new E(null,t)}var E=function(){function e(e,n){this.options=t(e?t({},e.options||{}):{},n||{})}var n=e.prototype;return n.withOptions=function(n){var r=n.baseUrl||this.options.baseUrl,o={baseUrl:r};for(var i in n)n.hasOwnProperty(i)&&(o[_(i)]=n[i]);return new e(this,t({baseUrl:r},o))},n.image=function(t){return this.withOptions({source:t})},n.dataset=function(t){return this.withOptions({dataset:t})},n.projectId=function(t){return this.withOptions({projectId:t})},n.bg=function(t){return this.withOptions({bg:t})},n.dpr=function(t){return this.withOptions({dpr:t})},n.width=function(t){return this.withOptions({width:t})},n.height=function(t){return this.withOptions({height:t})},n.focalPoint=function(t,e){return this.withOptions({focalPoint:{x:t,y:e}})},n.maxWidth=function(t){return this.withOptions({maxWidth:t})},n.minWidth=function(t){return this.withOptions({minWidth:t})},n.maxHeight=function(t){return this.withOptions({maxHeight:t})},n.minHeight=function(t){return this.withOptions({minHeight:t})},n.size=function(t,e){return this.withOptions({width:t,height:e})},n.blur=function(t){return this.withOptions({blur:t})},n.sharpen=function(t){return this.withOptions({sharpen:t})},n.rect=function(t,e,n,r){return this.withOptions({rect:{left:t,top:e,width:n,height:r}})},n.format=function(t){return this.withOptions({format:t})},n.invert=function(t){return this.withOptions({invert:t})},n.orientation=function(t){return this.withOptions({orientation:t})},n.quality=function(t){return this.withOptions({quality:t})},n.forceDownload=function(t){return this.withOptions({download:t})},n.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},n.flipVertical=function(){return this.withOptions({flipVertical:!0})},n.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},n.fit=function(t){if(-1===g.indexOf(t))throw new Error('Invalid fit mode "'+t+'"');return this.withOptions({fit:t})},n.crop=function(t){if(-1===m.indexOf(t))throw new Error('Invalid crop mode "'+t+'"');return this.withOptions({crop:t})},n.saturation=function(t){return this.withOptions({saturation:t})},n.auto=function(t){if(-1===b.indexOf(t))throw new Error('Invalid auto mode "'+t+'"');return this.withOptions({auto:t})},n.pad=function(t){return this.withOptions({pad:t})},n.url=function(){return d(this.options)},n.toString=function(){return this.url()},e}();return O}(),Ss=Es.exports,js=zt,Ps=encodeURIComponent,Is="You must either:\n  - Pass `projectId` and `dataset` to the block renderer\n  - Materialize images to include the `url` field.\n\nFor more information, see ".concat(function(t){return"https://docs.sanity.io/help/"+t}("block-content-image-materializing")),ks=function(t){var e=t.node,n=t.options,r=n.projectId,o=n.dataset,i=e.asset;if(!i)throw new Error("Image does not have required `asset` property");if(i.url)return i.url+function(t){var e=t.imageOptions,n=Object.keys(e);if(!n.length)return"";var r=n.map((function(t){return"".concat(Ps(t),"=").concat(Ps(e[t]))}));return"?".concat(r.join("&"))}(n);if(!r||!o)throw new Error(Is);if(!i._ref)throw new Error("Invalid image reference in block, no `_ref` found on `asset`");return Ss(js({projectId:r,dataset:o},n.imageOptions||{})).image(e).toString()},Ts=["strong","em","code","underline","strike-through"];function $s(t,e,n){if(!t.marks||0===t.marks.length)return t.marks||[];var r=t.marks.reduce((function(t,r){t[r]=t[r]?t[r]+1:1;for(var o=e+1;o<n.length;o++){var i=n[o];if(!i.marks||!Array.isArray(i.marks)||-1===i.marks.indexOf(r))break;t[r]++}return t}),{}),o=As.bind(null,r);return t.marks.slice().sort(o)}function As(t,e,n){var r=t[e]||0,o=t[n]||0;if(r!==o)return o-r;var i=Ts.indexOf(e),s=Ts.indexOf(n);return i!==s?i-s:e<n?-1:e>n?1:0}var Cs=zt;function Ds(t){return Boolean(t.listItem)}function Ms(t,e){return t.level===e.level&&t.listItem===e.listItem}function qs(t){return{_type:"list",_key:"".concat(t._key,"-parent"),level:t.level,listItem:t.listItem,children:[t]}}function Rs(t){return t.children&&t.children[t.children.length-1]}function Ns(t,e){var n="string"==typeof e.listItem;if("list"===t._type&&t.level===e.level&&n&&t.listItem===e.listItem)return t;var r=Rs(t);return!!r&&Ns(r,e)}var zs=zt;function Hs(t){var e=0,n=t.length;if(0===n)return e;for(var r=0;r<n;r++)e=(e<<5)-e+t.charCodeAt(r),e&=e;return e}function Us(t){return(Us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ls=zt,Bs=zt,Ws=function(t){var e=t.children,n=t.markDefs;if(!e||!e.length)return[];var r=e.map($s),o={_type:"span",children:[]},i=[o];return e.forEach((function(t,e){var o=r[e];if(o){var s=1;if(i.length>1)for(;s<i.length;s++){var a=i[s].markKey,u=o.indexOf(a);if(-1===u)break;o.splice(u,1)}var c,l=function(t){for(var e=t.length-1;e>=0;e--){var n=t[e];if("span"===n._type&&n.children)return n}return}(i=i.slice(0,s));if(o.forEach((function(e){var r={_type:"span",_key:t._key,children:[],mark:n.find((function(t){return t._key===e}))||e,markKey:e};l.children.push(r),i.push(r),l=r})),"span"!==(c=t)._type||"string"!=typeof c.text||!Array.isArray(c.marks)&&void 0!==c.marks)l.children=l.children.concat(t);else{for(var f=t.text.split("\n"),h=f.length;h-- >1;)f.splice(h,0,"\n");l.children=l.children.concat(f)}}else{i[i.length-1].children.push(t)}})),o.children},Fs=function(t){for(var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"html",r=[],o=0;o<t.length;o++){var i=t[o];if(Ds(i))if(e)if(Ms(i,e))e.children.push(i);else if(i.level>e.level){var s=qs(i);if("html"===n){var a=Rs(e),u=Cs({},a,{children:a.children.concat(s)});e.children[e.children.length-1]=u}else e.children.push(s);e=s}else if(i.level<e.level){var c=Ns(r[r.length-1],i);if(c){(e=c).children.push(i);continue}e=qs(i),r.push(e)}else if(i.listItem===e.listItem)console.warn("Unknown state encountered for block",i),r.push(i);else{var l=Ns(r[r.length-1],{level:i.level});if(l&&l.listItem===i.listItem){(e=l).children.push(i);continue}e=qs(i),r.push(e)}else e=qs(i),r.push(e);else r.push(i),e=null}return r},Vs=function(t){return t.map((function(t){return t._key?t:zs({_key:(e=t,Hs(JSON.stringify(e)).toString(36).replace(/[^A-Za-z0-9]/g,""))},t);var e}))},Ys=function(t,e){return Object.keys(t).reduce((function(n,r){var o=Us(t[r]);return n[r]="function"===o?void 0!==e[r]?e[r]:t[r]:"object"===o?Ls({},t[r],e[r]):void 0===e[r]?t[r]:e[r],n}),{})},Xs=["projectId","dataset","imageOptions","ignoreUnknownTypes"],Js={imageOptions:{},ignoreUnknownTypes:!0};function Gs(t){return"block"===t._type&&t.listItem}var Zs=function(t,e,n,r){var o=Bs({},Js,e),i=Array.isArray(o.blocks)?o.blocks:[o.blocks],s=Vs(i),a=Fs(s,o.listNestMode),u=Ys(n,o.serializers||{}),c=Xs.reduce((function(t,e){var n=o[e];return void 0!==n&&(t[e]=n),t}),{});function l(e,n,o,i){return"list"===(d=e)._type&&d.listItem?(a=(s=e).listItem,f=s.level,h=s._key,p=s.children.map(l),t(u.list,{key:h,level:f,type:a,options:c},p)):Gs(e)?function(e,n){var r=e._key,o=Ws(e).map(l);return t(u.listItem,{node:e,serializers:u,index:n,key:r,options:c},o)}(e,function(t,e){for(var n=0,r=0;r<e.length;r++){if(e[r]===t)return n;Gs(e[r])&&n++}return n}(e,o)):function(t){return"string"==typeof t||t.marks||"span"===t._type}(e)?r(e,u,n,{serializeNode:l}):function(e,n,r){var o=Ws(e).map((function(t,e,n){return l(t,e,n,!0)})),i={key:e._key||"block-".concat(n),node:e,isInline:r,serializers:u,options:c};return t(u.block,i,o)}(e,n,i);var s,a,f,h,p,d}var f=Boolean(o.renderContainerOnSingleChild),h=a.map(l);if(f||h.length>1){var p=o.className?{className:o.className}:{};return t(u.container,p,h)}return h[0]?h[0]:"function"==typeof u.empty?t(u.empty):u.empty},Ks=zt,Qs=ks,ta=ss.exports,ea=zt,na=ks,ra=Zs,oa=function(t,e,n){var r=e||{};if("function"==typeof t)return t(ea({},r,{children:n}));var o=t,i=r.children||n;return ta(o,r,i)},ia=function(t,e){var n=e||{useDashedStyles:!1};function r(e,n){return t(e,null,n.children)}return{defaultSerializers:{types:{block:function(e){var n=e.node.style||"normal";return/^h\d/.test(n)?t(n,null,e.children):t("blockquote"===n?"blockquote":"p",null,e.children)},image:function(e){if(!e.node.asset)return null;var n=t("img",{src:Qs(e)});return e.isInline?n:t("figure",null,n)}},marks:{strong:r.bind(null,"strong"),em:r.bind(null,"em"),code:r.bind(null,"code"),underline:function(e){var r=n.useDashedStyles?{"text-decoration":"underline"}:{textDecoration:"underline"};return t("span",{style:r},e.children)},"strike-through":function(e){return t("del",null,e.children)},link:function(e){return t("a",{href:e.mark.href},e.children)}},list:function(e){var n="bullet"===e.type?"ul":"ol";return t(n,null,e.children)},listItem:function(e){var n=e.node.style&&"normal"!==e.node.style?t(e.serializers.types.block,e,e.children):e.children;return t("li",null,n)},block:function(e){var n=e.node,r=e.serializers,o=e.options,i=e.isInline,s=e.children,a=n._type,u=r.types[a];if(!u){if(o.ignoreUnknownTypes)return console.warn('Unknown block type "'.concat(a,'", please specify a serializer for it in the `serializers.types` prop')),t(r.unknownType,{node:n,options:o,isInline:i},s);throw new Error('Unknown block type "'.concat(a,'", please specify a serializer for it in the `serializers.types` prop'))}return t(u,{node:n,options:o,isInline:i},s)},span:function(e){var n=e.node,r=n.mark,o=n.children,i="string"==typeof r?r:r._type,s=e.serializers.marks[i];return s?t(s,e.node,o):(console.warn('Unknown mark type "'.concat(i,'", please specify a serializer for it in the `serializers.marks` prop')),t(e.serializers.unknownMark,null,o))},hardBreak:function(){return t("br")},unknownType:function(e){return t("div",{style:{display:"none"}},'Unknown block type "'.concat(e.node._type,'", please specify a serializer for it in the `serializers.types` prop'))},unknownMark:"span",container:"div",text:void 0,empty:""},serializeSpan:function(e,n,r,o){if("\n"===e&&n.hardBreak)return t(n.hardBreak,{key:"hb-".concat(r)});if("string"==typeof e)return n.text?t(n.text,{key:"text-".concat(r)},e):e;var i;e.children&&(i={children:e.children.map((function(t,n){return o.serializeNode(t,n,e.children,!0)}))});var s=Ks({},e,i);return t(n.span,{key:e._key||"span-".concat(r),node:s,serializers:n})}}}(oa,{useDashedStyles:!0}),sa=ia.defaultSerializers,aa=ia.serializeSpan,ua=function(t){return ra(oa,t,sa,aa)};ua.defaultSerializers=sa,ua.getImageUrl=na,ua.renderNode=oa;var ca=ua,la=ca.renderNode,fa=function(t){var e=ca(t);return e.outerHTML||e};fa.defaultSerializers=ca.defaultSerializers,fa.getImageUrl=ca.getImageUrl,fa.renderNode=la,fa.h=la;var ha=fa;export{G as A,n as B,$t as C,$ as D,j as E,t as F,K as G,wt as H,f as I,M as J,d as K,y as L,p as M,i as N,l as O,At as P,v as Q,B as R,kt as S,c as T,rs as U,k as V,is as W,xs as X,ha as Y,Os as Z,R as a,q as b,z as c,I as d,T as e,P as f,H as g,L as h,It as i,Et as j,C as k,D as l,xt as m,U as n,St as o,_t as p,Ot as q,yt as r,a as s,A as t,mt as u,jt as v,vt as w,gt as x,Q as y,Z as z};
